<%- contentFor('body') %>

<div class="container py-5">
    <h1 class="mb-4">Carrito de Compras</h1>
    
    <!-- Mensaje de carrito vacío -->
    <div id="empty-cart-message" class="text-center py-5" style="display: none;">
        <i class="bi bi-cart-x display-1 text-muted"></i>
        <h3 class="mt-3">Tu carrito está vacío</h3>
        <p class="text-muted">Agrega productos para continuar con tu compra</p>
        <a href="/catalogo" class="btn btn-primary mt-3">
            <i class="bi bi-arrow-left me-2"></i>Volver al Catálogo
        </a>
    </div>

    <!-- Contenido del carrito -->
    <div id="cart-items-container">
        <!-- Los items del carrito se cargarán dinámicamente -->
    </div>

    <!-- Resumen del carrito -->
    <div class="card mt-4">
        <div class="card-body">
            <h5 class="card-title">Resumen de la Compra</h5>
            <div class="d-flex justify-content-between mb-2">
                <span>Subtotal:</span>
                <span id="cart-subtotal">$0</span>
            </div>
            <div class="d-flex justify-content-between mb-2">
                <span>IVA (19%):</span>
                <span id="cart-tax">$0</span>
            </div>
            <hr>
            <div class="d-flex justify-content-between mb-3">
                <strong>Total:</strong>
                <strong id="cart-total">$0</strong>
            </div>
            <div class="d-flex gap-2">
                <button id="clear-cart-button" class="btn btn-outline-danger" data-action="clear-cart">
                    <i class="bi bi-trash me-2"></i>Vaciar Carrito
                </button>
                <button id="checkout-button" class="btn btn-primary flex-grow-1" data-action="checkout">
                    <i class="bi bi-credit-card me-2"></i>Proceder al Pago
                </button>
            </div>
        </div>
    </div>

    <div class="card mt-4">
        <div class="card-body">
            <h5 class="card-title">Información Personal</h5>
            <div id="user-info-container">
                <div class="d-flex justify-content-between mb-2">
                    <span>Nombre:</span>
                    <span id="cart-user-name">-</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                    <span>Email:</span>
                    <span id="cart-user-email">-</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                    <span>Teléfono:</span>
                    <span id="cart-user-phone">-</span>
                </div>
                <div class="d-flex justify-content-between mb-2">
                    <span>Dirección:</span>
                    <span id="cart-user-address">-</span>
                </div>
            </div>
        </div>
    </div>
</div>

<%- contentFor('scripts') %>
<script src="/js/cart.js" type="module"></script>
<script src="/js/carrito-page.js" type="module"></script> 